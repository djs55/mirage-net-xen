OASISFormat: 0.3
Name:        mirage-net-xen
Version:     1.1.3
Synopsis:    Xen network frontend driver implementation
Authors:     Anil Madhavapeddy, David Scott
License:     ISC
Plugins:     META (0.3), DevFiles (0.3)
BuildTools:  ocamlbuild

Library "netchannel"
  Pack:               true
  CompiledObject:     best
  Path:               lib
  Findlibname:        mirage-net-xen
  Modules:            S, Xenstore, Netproto, Endpoint, Stats, ResultM, Flag, Tx, Rx
  BuildDepends:       lwt.syntax,cstruct, cstruct.syntax, ipaddr, xen-evtchn, xen-gnt, mirage-types.lwt, shared-memory-ring, sexplib.syntax, xenstore_transport.lwt, xenstore

Library "netchannel_unix"
  CompiledObject:     best
  Path:               unix
  Findlibname:        unix
  Findlibparent:      netchannel
  Modules:            Netchannel_unix_configuration
  BuildDepends:       sexplib.syntax, lwt, lwt.unix, mirage-net-xen

Library "netchannel_inheap"
  CompiledObject:     best
  Path:               inheap
  Findlibname:        inheap
  Findlibparent:      netchannel
  Modules:            Netchannel_inheap_configuration
  BuildDepends:       lwt, mirage-net-xen

Executable test
  Install:            false
  CompiledObject:     best
  Path:               lib_test
  MainIs:             test.ml
  BuildDepends:       cmdliner, lwt, lwt.unix, xen-evtchn.inheap, xen-gnt.inheap, mirage-net-xen, mirage-net-xen.inheap, oUnit

Test core_test
  Run$:               flag(tests)
  Command:            $test
  WorkingDirectory:   lib_test
